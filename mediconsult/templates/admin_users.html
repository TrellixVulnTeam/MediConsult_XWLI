{% extends "layout.html" %}
{% block header %}
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css"/>
	
{% endblock header %}
{% block content %}
<h1 class="card p-4">User Accounts</h1>
<div class="containter card p-4">
    <div class="row">
        <a href="{{ url_for('register') }}"><button type="button" class="btn btn-outline-info m-2">Register New User</button></a>
    </div>
</div>
<hr>
	<table id="users" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>User ID</th>
                <th>Username</th>
                <th>Email</th>
                <th>Last Login</th>
                <th>Blocked?</th>
                <th>User Role</th>
            </tr>
        </thead>
        <tbody>
        	{% for user in user.items %}
	            <tr>
	                <td>{{ user.id }}</td>
	                <td><a href="{{ url_for('admin_account', username=user.username) }}">{{ user.username }}</a></td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.last_login }}</td>
                    <td>{{ user.blocked }}</td>
                    <td>{{ user.Role.name }}</td>
	            </tr>
	        {% endfor %}
        </tbody>
        <tfoot>
            <tr>
                <th>User ID</th>
                <th>Username</th>
                <th>Email</th>
                <th>Last Login</th>
                <th>Blocked?</th>
                <th>User Role</th>
            </tr>
        </tfoot>
    </table>
{% endblock content %}
{% block others %}
		<script type="text/javascript">
		$(document).ready(function() {
  			$('#users').DataTable();
		} );
		</script>
		<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
{% endblock others %}